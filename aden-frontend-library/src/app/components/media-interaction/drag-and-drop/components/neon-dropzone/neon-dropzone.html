<div class="page-container onest-font">
  <app-ui-playground [htmlCode]="codeHtml" [scssCode]="codeScss" [tsCode]="codeTs" [meta]="meta">

    <div class="library-container">

      <!-- Dropzone Area -->
      <div class="drop-zone" [class.active]="isDragging" (dragenter)="onDragEnter($event)"
        (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)"
        (click)="fileInput.click()">

        <input #fileInput type="file" multiple hidden (change)="onFileSelected($event)">

        <!-- pointer-events: none ist hier wichtig (siehe CSS) -->
        <div class="zone-content">
          <div class="icon-circle">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
          </div>

          <h3>Upload Files</h3>
          <p>Drag & drop files here or <span class="highlight">browse</span></p>
          <span class="support-text">Supported: JPG, PNG, PDF (Max 10MB)</span>
        </div>

        <!-- Overlay muss auch klick-durchlässig sein -->
        @if (isDragging) {
        <div class="drag-overlay">
          <span>Drop to upload</span>
        </div>
        }
      </div>

      <!-- File List -->
      @if (files.length > 0) {
      <div class="file-list">
        <div class="list-header">
          <span>Uploaded Files ({{ files.length }})</span>
        </div>

        @for (file of files; track file.name; let i = $index) {
        <div class="file-item fade-in">
          <div class="file-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
              <polyline points="13 2 13 9 20 9"></polyline>
            </svg>
          </div>
          <div class="file-info">
            <span class="file-name">{{ file.name }}</span>
            <span class="file-size">{{ file.size }}</span>
          </div>
          <button class="delete-btn" (click)="removeFile(i, $event)">
            ✕
          </button>
        </div>
        }
      </div>
      }

    </div>

  </app-ui-playground>
</div>
